<!DOCTYPE html>

<html lang = "en">
    <head> 
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LANDING PAGE</title>


        <link rel="stylesheet" href="./stylesheets/style.css">
        
        <!--Added for font awesome-->
        <link rel="stylesheet" href="./stylesheets/all.min.css">

    </head>
    <style>
        a:link {
        text-decoration: none; 
        color: inherit;
        }
    </style>

    <body>

        <!-- Box for Background-->
        <div class = "body">
            <!-- Box containing Spotifind carousel etc-->
            <div class="carousel_container">
                <!--Header for product name-->
                <p class="product_name">"Spoti-find"</p>
                <!--Para for brief product description-->
                <p class="product_description">"A handy tool for the Spotify playlist enthusiast"</p>
                <!--Carousel for images / text-->
                <div class="carousel">
                    <!--Source for carousel: https://codepen.io/luxonauta/pen/QWEWvmB?editors=1000-->
                    <!--Pug Conversion: https://pughtml.com/-->
                    <main>
                        <section class="has-dflex-center">
                            <div class="lx-container-80">
                                <div class="lx-row">
                                    <div class="lx-card carousel-container">
                                        <div class="item fade">
                                            <div class="image"><img src="https://bit.ly/34xczKy" /></div>
                                        </div>
                                        <div class="item fade">
                                            <div class="image"><img src="https://bit.ly/3lkp5DW" /></div>
                                            <div class="text is-text-left">
                                                <h1 class="title"> <i class="far fa-hand-point-right"></i>&nbsp;This item has a title.</h1>
                                                <p>This item has a caption, aligned to the left.</p>
                                            </div>
                                        </div>
                                        <div class="item fade">
                                            <div class="image"><img src="https://bit.ly/3iMHuI1" /></div>
                                            <div class="text is-text-centered">
                                                <p> <i class="fas fa-info-circle"></i>&nbsp;This item has a caption, aligned to the center.</p>
                                            </div>
                                        </div><a class="prev has-dflex-center"><i class="fas fa-angle-left"></i></a><a class="next has-dflex-center"><i class="fas fa-angle-right"></i></a>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </main>
                </div>
                <!--Button to launch second page-->
                <button class="landing_button">"Lets get started"</button>
            </div>  
        </div>
        <!--Footer-->
        <div class="footer">
            <p>"Brought to you by Ryan Coleman and Luis Jaar"</p>
        </div>
    </body>

    <script>
        // Added from https://codepen.io/luxonauta/pen/QWEWvmB?editors=0010 

        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll(".carousel-container").forEach((carousel) => {
                insertNumbers(carousel);

                carousel.querySelector(".prev").addEventListener("click", (e) => {
                minusItem(carousel);
                });

                carousel.querySelector(".next").addEventListener("click", () => {
                plusItem(carousel);
                });

                insertDots(carousel);

                carousel.querySelectorAll(".dot").forEach((dot) => {
                dot.addEventListener("click", (e) => {
                    let item = Array.prototype.indexOf.call(
                    e.target.parentNode.children,
                    e.target
                    );

                    showItems(carousel, item);
                });
                });

                showItems(carousel, 0);
            });
            });

        function insertNumbers(carousel) {
        const length = carousel.querySelectorAll(".item").length;
        for (let i = 0; i < length; i++) {
            const nmbr = document.createElement("div");
            nmbr.classList.add("numbertext");
            nmbr.innerText = i + 1 + " / " + length;

            carousel.querySelectorAll(".item")[i].append(nmbr);
        }
        }

        function insertDots(carousel) {
        const dots = document.createElement("div");
        dots.classList.add("dots");

        carousel.append(dots);

        carousel.querySelectorAll(".item").forEach((elem) => {
            const dot = document.createElement("div");
            dot.classList.add("dot");

            carousel.querySelector(".dots").append(dot);
        });
        }

        function plusItem(carousel) {
        let item = currentItem(carousel);

        carousel
            .querySelectorAll(".item")
            [item].nextElementSibling.classList.contains("item")
            ? showItems(carousel, item + 1)
            : showItems(carousel, 0);
        }

        function minusItem(carousel) {
        let item = currentItem(carousel);

        carousel.querySelectorAll(".item")[item].previousElementSibling != null
            ? showItems(carousel, item - 1)
            : showItems(carousel, carousel.querySelectorAll(".item").length - 1);
        }

        function currentItem(carousel) {
        return [...carousel.querySelectorAll(".item")].findIndex(
            (item) => item.style.display == "block"
        );
        }

        function showItems(carousel, item) {
        if (carousel.querySelectorAll(".item")[currentItem(carousel)] != undefined)
            carousel.querySelectorAll(".item")[currentItem(carousel)].style.display =
            "none";
        carousel.querySelectorAll(".item")[item].style.display = "block";

        if (carousel.querySelector(".dot.active") != null)
            carousel.querySelector(".dot.active").classList.remove("active");
        carousel.querySelectorAll(".dot")[item].classList.add("active");
        }

        // User code

    </script>
</html>